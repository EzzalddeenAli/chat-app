<!doctype html>
<html>
  <head>
    <title>Socket.IO chat</title>
    <link rel="stylesheet" href="css/main.css">
  </head>
  <body>
    <ul id="messages"></ul>

    <form>
      <input id="user" type="text" placeholder="Nome">
      <br>
      <input id="msg" type="text" placeholder="Mensagem">
      <button>Send</button>
    </form>

    <!-- Libs -->
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.3.2/firebase.js"></script>

    <!-- Custom -->
    <script src="js/socket.js"></script>
    <script src="js/firebase.js"></script>
    <script src="js/network.js"></script>
    <script src="js/light-events.js"></script>

    <script>
      $('form').submit(function(){
        var obj;

        obj = {
          'user': $('#user').val(),
          'msg': $('#msg').val(),
          'timestamp': new Date().getTime()
        };

        socket.emit('chat message', obj);

        $('#user').val('');
        $('#msg').val('');

        return false;
      });
    </script>
  </body>
</html>
